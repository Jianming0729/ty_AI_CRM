# 横向治理模块 (Governance Sync) - 终极·收敛版 (V3.1)

## 模块背景与设计哲学

本模块是项目的“工程记忆系统”，旨在“人类已确认真正成功”的前提下，将成功经验转化为以后不再反复踩坑的项目资产。

**核心原则**：
- **G0 只约束【治理沉淀行为】**
- **G0 不得阻断【修复模式（Fix Mode）】下的正常代码修改**

---

## 一、M0. 指令模式判定规则（顶级规则 · 必须执行）

在执行任何逻辑前，必须先进行模式判定。严禁隐式升级模式，禁止 AI 自行推断用户意图，必须基于明确文字触发。

### 1. 【治理同步模式 · Governance Sync Mode】
**触发关键词**（包含任一语义）：
- “治理同步”、“Governance Sync”、“受控全量同步”、“成功经验沉淀”
- “更新 README / 架构 / SOP / 变更记录”
- “将成功经验固化为长期规则”

**核心语义**：请求系统将当前的修复结果作为正式标准固化下来。

### 2. 【修复 / 开发模式 · Fix Mode】
**判定逻辑**：
- **未明确触发**上述治理关键词时，一律判定为【修复 / 开发模式】。

---

## 二、模式硬边界与执行规则

### 1. Mode A：修复 / 开发模式（Fix Mode）
> “在尚未真正成功之前，治理模块绝不插手。”

- **允许行为**：
  - 修改与当前问题直接相关的代码文件。
  - 新增/调整校验、状态机、分支逻辑、日志。
  - 局部逻辑拆分以辅助修复。
  - 临时开关、实验性逻辑。
- **强制禁区**：
  - 禁止修改 README、架构说明、治理文档。
  - 禁止写入“Lessons Learned”或宣布“已彻底解决”。
  - 禁止跨模块、跨文档的沉淀行为。
- **授权校验**：
  - **无需 G0 授权**。严禁在此模式下检查人类书面签字。

### 2. Mode B：治理同步模式（Governance Sync Mode）
> “在真正成功之后，治理模块负责记住。”

- **触发条件**：明确触发上述“治理同步”关键词。
- **强置前置条件（G0 授权校验）**：
  - 必须检测到由人类明确给出的书面确认，语义等价于：
    > “本人已人工确认：该功能在真实使用场景下稳定可用，问题已实质性解决，允许执行一次横向治理模块受控同步。”
- **若未获 G0 授权**：
  - ❌ 禁止修改任何文件。
  - ❌ 禁止生成修改计划。
  - ⚠️ 只能回复：“治理模块未获人工书面授权，保持待命。”
- **允许行为（仅在 G0 通过后）**：
  - 固化长期 guard / 风控逻辑。
  - 同步更新 README / 架构 / SOP / 变更记录。
  - 写入成功经验模板。
  - 生成回归清单。

---

## 三、强制共通约束（S0-S2）

无论处于何种模式，均须遵守：

**S0. 结构保护**
- 禁止新增 / 删除 / 重命名任何目录或文件。
- 新文件必须走结构变更申请。

**S1. 严格因果限定**
- 只允许修改与当前【功能 / 模块名】存在直接因果关系的内容。
- 禁止顺手重构、顺手统一风格。

**S2. 禁止“隐藏升级”**
- Fix Mode 下不得自动切换为 Governance Mode。
- 必须由人类显式指令触发沉淀。

---

## 四、治理模块执行流程（仅限 Mode B + G0 通过）

Step 0. 变更边界复核
Step 1. 代码层固化（防复发）
Step 2. 文档同步（事实性补充）
Step 3. 成功经验沉淀（固定模板）
Step 4. 回归与风控
Step 5. 最终交付说明

---

## 五、自我定位声明

横向治理模块的职责是：
**“在真正成功之后，负责记住；在尚未成功之前，绝不插手。”**

它不是：
- 修复阻断器
- 自动成功裁判
- 进度管理工具

---
*Generated & Sealed by Antigravity at 2026-02-07 (Refined V3.1)*


